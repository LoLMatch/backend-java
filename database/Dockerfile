FROM postgres:latest

ARG KEYCLOAK_DB
ARG KEYCLOAK_USER
ARG KEYCLOAK_PASSWORD
ARG POSTGRES_USER
ARG POSTGRES_PASSWORD

ENV KEYCLOAK_DB=${KEYCLOAK_DB}
ENV KEYCLOAK_USER=${KEYCLOAK_USER}
ENV KEYCLOAK_PASSWORD=${KEYCLOAK_PASSWORD}
ENV POSTGRES_USER=${POSTGRES_USER}
ENV POSTGRES_PASSWORD=${POSTGRES_PASSWORD}

COPY ./init-user-db.sh /docker-entrypoint-initdb.d/init-user-db.sh

RUN chmod +x /docker-entrypoint-initdb.d/init-user-db.sh
